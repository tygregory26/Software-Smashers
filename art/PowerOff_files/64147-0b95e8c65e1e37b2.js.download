(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64147],{6452:(t,e,i)=>{var n=i(81706),r=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(r,""):t}},13700:(t,e,i)=>{"use strict";let n,r,s,h,l;function o(t,e,i){let n=typeof i,r=typeof t;if("undefined"!==n){if("undefined"!==r){if(i){if("function"===r&&n===r)return function(e){return t(i(e))};if((e=t.constructor)===i.constructor){if(e===Array)return i.concat(t);if(e===Map){var s=new Map(i);for(var h of t)s.set(h[0],h[1]);return s}if(e===Set){for(s of(h=new Set(i),t.values()))h.add(s);return h}}}return t}return i}return"undefined"===r?e:t}function f(){return Object.create(null)}function u(t){return"string"==typeof t}function c(t){return"object"==typeof t}function a(t,e){if(u(e))t=t[e];else for(let i=0;t&&i<e.length;i++)t=t[e[i]];return t}i.d(e,{Ay:()=>tO});let g=/[^\p{L}\p{N}]+/u,p=/(\d{3})/g,d=/(\D)(\d{3})/g,m=/(\d{3})(\D)/g,y=/[\u0300-\u036f]/g;function w(t={}){if(!this||this.constructor!==w)return new w(...arguments);if(arguments.length)for(t=0;t<arguments.length;t++)this.assign(arguments[t]);else this.assign(t)}function x(t){t.H=null,t.B.clear(),t.G.clear()}async function b(t){var e=(t=t.data).task;let i=t.id,s=t.args;if("init"===e)r=t.options||{},(e=t.factory)?(Function("return "+e)()(self),n=new self.FlexSearch.Index(r),delete self.FlexSearch):n=new tM(r),postMessage({id:i});else{let h;"export"===e&&(s[1]?(s[0]=r.export,s[2]=0,s[3]=1):s=null),"import"===e?s[0]&&(t=await r.import.call(n,s[0]),n.import(s[0],t)):(h=s&&n[e].apply(n,s))&&h.then&&(h=await h),postMessage("search"===e?{id:i,msg:h}:{id:i})}}function v(t){M.call(t,"add"),M.call(t,"append"),M.call(t,"search"),M.call(t,"update"),M.call(t,"remove")}function k(){s=l=0}function M(t){this[t+"Async"]=function(){let e,i=arguments;var n=i[i.length-1];if("function"==typeof n&&(e=n,delete i[i.length-1]),s?l||(l=Date.now()-h>=this.priority*this.priority*3):(s=setTimeout(k,0),h=Date.now()),l){let e=this;return new Promise(n=>{setTimeout(function(){n(e[t+"Async"].apply(e,i))},0)})}let r=this[t].apply(this,i);return n=r.then?r:new Promise(t=>t(r)),e&&n.then(e),n}}(tg=w.prototype).assign=function(t){this.normalize=o(t.normalize,!0,this.normalize);let e=t.include,i=e||t.exclude||t.split,n;if(i||""===i){if("object"==typeof i&&i.constructor!==RegExp){let t="";n=!e,e||(t+="\\p{Z}"),i.letter&&(t+="\\p{L}"),i.number&&(t+="\\p{N}",n=!!e),i.symbol&&(t+="\\p{S}"),i.punctuation&&(t+="\\p{P}"),i.control&&(t+="\\p{C}"),(i=i.char)&&(t+="object"==typeof i?i.join(""):i);try{this.split=RegExp("["+(e?"^":"")+t+"]+","u")}catch(t){this.split=/\s+/}}else this.split=i,n=!1===i||2>"a1a".split(i).length;this.numeric=o(t.numeric,n)}else{try{this.split=o(this.split,g)}catch(t){this.split=/\s+/}this.numeric=o(t.numeric,o(this.numeric,!0))}if(this.prepare=o(t.prepare,null,this.prepare),this.finalize=o(t.finalize,null,this.finalize),i=t.filter,this.filter="function"==typeof i?i:o(i&&new Set(i),null,this.filter),this.dedupe=o(t.dedupe,!0,this.dedupe),this.matcher=o((i=t.matcher)&&new Map(i),null,this.matcher),this.mapper=o((i=t.mapper)&&new Map(i),null,this.mapper),this.stemmer=o((i=t.stemmer)&&new Map(i),null,this.stemmer),this.replacer=o(t.replacer,null,this.replacer),this.minlength=o(t.minlength,1,this.minlength),this.maxlength=o(t.maxlength,1024,this.maxlength),this.rtl=o(t.rtl,!1,this.rtl),(this.cache=i=o(t.cache,!0,this.cache))&&(this.H=null,this.S="number"==typeof i?i:2e5,this.B=new Map,this.G=new Map,this.L=this.K=128),this.h="",this.M=null,this.A="",this.N=null,this.matcher)for(let t of this.matcher.keys())this.h+=(this.h?"|":"")+t;if(this.stemmer)for(let t of this.stemmer.keys())this.A+=(this.A?"|":"")+t;return this},tg.addStemmer=function(t,e){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(t,e),this.A+=(this.A?"|":"")+t,this.N=null,this.cache&&x(this),this},tg.addFilter=function(t){return"function"==typeof t?this.filter=t:(this.filter||(this.filter=new Set),this.filter.add(t)),this.cache&&x(this),this},tg.addMapper=function(t,e){return"object"==typeof t?this.addReplacer(t,e):1<t.length?this.addMatcher(t,e):(this.mapper||(this.mapper=new Map),this.mapper.set(t,e),this.cache&&x(this),this)},tg.addMatcher=function(t,e){return"object"==typeof t?this.addReplacer(t,e):2>t.length&&(this.dedupe||this.mapper)?this.addMapper(t,e):(this.matcher||(this.matcher=new Map),this.matcher.set(t,e),this.h+=(this.h?"|":"")+t,this.M=null,this.cache&&x(this),this)},tg.addReplacer=function(t,e){return"string"==typeof t?this.addMatcher(t,e):(this.replacer||(this.replacer=[]),this.replacer.push(t,e),this.cache&&x(this),this)},tg.encode=function(t){if(this.cache&&t.length<=this.K)if(this.H){if(this.B.has(t))return this.B.get(t)}else this.H=setTimeout(x,50,this);this.normalize&&(t="function"==typeof this.normalize?this.normalize(t):y?t.normalize("NFKD").replace(y,"").toLowerCase():t.toLowerCase()),this.prepare&&(t=this.prepare(t)),this.numeric&&3<t.length&&(t=t.replace(d,"$1 $2").replace(m,"$1 $2").replace(p,"$1 "));let e=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer),i=[],n=this.split||""===this.split?t.split(this.split):t;for(let t=0,s,h;t<n.length;t++)if((s=h=n[t])&&!(s.length<this.minlength||s.length>this.maxlength)){if(e)i.push(s);else if(!this.filter||("function"==typeof this.filter?this.filter(s):!this.filter.has(s))){if(this.cache&&s.length<=this.L)if(this.H){var r=this.G.get(s);if(r||""===r){r&&i.push(r);continue}}else this.H=setTimeout(x,50,this);if(this.stemmer&&2<s.length&&(this.N||(this.N=RegExp("(?!^)("+this.A+")$")),(r=s)!==(s=s.replace(this.N,t=>this.stemmer.get(t)))&&this.filter&&s.length>=this.minlength&&("function"==typeof this.filter?!this.filter(s):this.filter.has(s))&&(s="")),s&&(this.mapper||this.dedupe&&1<s.length)){r="";for(let t=0,e="",i,n;t<s.length;t++)((i=s.charAt(t))!==e||!this.dedupe)&&((n=this.mapper&&this.mapper.get(i))||""===n?(n!==e||!this.dedupe)&&(e=n)&&(r+=n):r+=e=i);s=r}if(this.matcher&&1<s.length&&(this.M||(this.M=RegExp("("+this.h+")","g")),s=s.replace(this.M,t=>this.matcher.get(t))),s&&this.replacer)for(r=0;s&&r<this.replacer.length;r+=2)s=s.replace(this.replacer[r],this.replacer[r+1]);this.cache&&h.length<=this.L&&(this.G.set(h,s),this.G.size>this.S&&(this.G.clear(),this.L=this.L/1.1|0)),s&&i.push(s)}}return this.finalize&&(i=this.finalize(i)||i),this.cache&&t.length<=this.K&&(this.B.set(t,i),this.B.size>this.S&&(this.B.clear(),this.K=this.K/1.1|0)),i};let z=0;function j(t={}){var e,n,r;function s(e){function i(t){let e=(t=t.data||t).id,i=e&&o.h[e];i&&(i(t.msg),delete o.h[e])}if(this.worker=e,this.h=f(),this.worker)return(l?this.worker.on("message",i):this.worker.onmessage=i,t.config)?new Promise(function(e){o.h[++z]=function(){e(o),1e9<z&&(z=0)},o.worker.postMessage({id:z,task:"init",factory:h,options:t})}):(this.worker.postMessage({task:"init",factory:h,options:t}),this.priority=t.priority||4,this)}if(!this||this.constructor!==j)return new j(t);let h="undefined"!=typeof self?self._factory:"undefined"!=typeof window?window._factory:null;h&&(h=h.toString());let l="undefined"==typeof window,o=this,u=(e=h,n=l,r=t.worker,n?new(i(39411)).Worker("//worker/node.js"):e?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+b.toString()],{type:"text/javascript"}))):new window.Worker("string"==typeof r?r:"file:///opt/build/repo/node_modules/.pnpm/flexsearch@0.8.151/node_modules/flexsearch/dist/flexsearch.bundle.module.min.js".replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js"),{type:"module"}));return u.then?u.then(function(t){return s.call(o,t)}):s.call(this,u)}function A(t){j.prototype[t]=function(){let e,i=this,n=[].slice.call(arguments);var r=n[n.length-1];return"function"==typeof r&&(e=r,n.pop()),r=new Promise(function(e){"export"===t&&"function"==typeof n[0]&&(n[0]=null),i.h[++z]=e,i.worker.postMessage({task:t,id:z,args:n})}),e?(r.then(e),this):r}}function S(t,e=0){let i=[],n=[];for(let r of(e&&(e=25e4/e*5e3|0),t.entries()))n.push(r),n.length===e&&(i.push(n),n=[]);return n.length&&i.push(n),i}function _(t,e){e||(e=new Map);for(let i=0,n;i<t.length;i++)n=t[i],e.set(n[0],n[1]);return e}function B(t,e=0){let i=[],n=[];for(let r of(e&&(e=25e4/e*1e3|0),t.entries()))n.push([r[0],S(r[1])[0]]),n.length===e&&(i.push(n),n=[]);return n.length&&i.push(n),i}function C(t,e){e||(e=new Map);for(let i=0,n,r;i<t.length;i++)n=t[i],r=e.get(n[0]),e.set(n[0],_(n[1],r));return e}function O(t){let e=[],i=[];for(let n of t.keys())i.push(n),25e4===i.length&&(e.push(i),i=[]);return i.length&&e.push(i),e}function P(t,e){e||(e=new Set);for(let i=0;i<t.length;i++)e.add(t[i]);return e}function D(t,e,i,n,r,s,h=0){let l=n&&n.constructor===Array;var o=l?n.shift():n;if(!o)return this.export(t,e,r,s+1);if((o=t((e?e+".":"")+(h+1)+"."+i,JSON.stringify(o)))&&o.then){let f=this;return o.then(function(){return D.call(f,t,e,i,l?n:null,r,s,h+1)})}return D.call(this,t,e,i,l?n:null,r,s,h+1)}function L(t,e){let i="";for(let n of t.entries()){t=n[0];let r=n[1],s="";for(let t=0,i;t<r.length;t++){i=r[t]||[""];let n="";for(let t=0;t<i.length;t++)n+=(n?",":"")+("string"===e?'"'+i[t]+'"':i[t]);n="["+n+"]",s+=(s?",":"")+n}s='["'+t+'",['+s+"]]",i+=(i?",":"")+s}return i}function I(t,e,i,n){let r=[];for(let s=0,h;s<t.index.length;s++)if(e>=(h=t.index[s]).length)e-=h.length;else{let s=(e=h[n?"splice":"slice"](e,i)).length;if(s&&(r=r.length?r.concat(e):e,i-=s,n&&(t.length-=s),!i))break;e=0}return r}function T(t){if(!this||this.constructor!==T)return new T(t);this.index=t?[t]:[],this.length=t?t.length:0;let e=this;return new Proxy([],{get:(t,i)=>"length"===i?e.length:"push"===i?function(t){e.index[e.index.length-1].push(t),e.length++}:"pop"===i?function(){if(e.length)return e.length--,e.index[e.index.length-1].pop()}:"indexOf"===i?function(t){let i=0;for(let n=0,r,s;n<e.index.length;n++){if(0<=(s=(r=e.index[n]).indexOf(t)))return i+s;i+=r.length}return -1}:"includes"===i?function(t){for(let i=0;i<e.index.length;i++)if(e.index[i].includes(t))return!0;return!1}:"slice"===i?function(t,i){return I(e,t||0,i||e.length,!1)}:"splice"===i?function(t,i){return I(e,t||0,i||e.length,!0)}:"constructor"===i?Array:"symbol"!=typeof i?(t=e.index[i/0x80000000|0])&&t[i]:void 0,set:(t,i,n)=>(t=i/0x80000000|0,(e.index[t]||(e.index[t]=[]))[i]=n,e.length++,!0)})}function N(t=8){if(!this||this.constructor!==N)return new N(t);this.index=f(),this.h=[],this.size=0,32<t?(this.B=R,this.A=BigInt(t)):(this.B=E,this.A=t)}function $(t=8){if(!this||this.constructor!==$)return new $(t);this.index=f(),this.h=[],this.size=0,32<t?(this.B=R,this.A=BigInt(t)):(this.B=E,this.A=t)}function E(t){let e=2**this.A-1;if("number"==typeof t)return t&e;let i=0,n=this.A+1;for(let r=0;r<t.length;r++)i=(i*n^t.charCodeAt(r))&e;return 32===this.A?i+0x80000000:i}function R(t){let e=BigInt(2)**this.A-BigInt(1);var i=typeof t;if("bigint"===i)return t&e;if("number"===i)return BigInt(t)&e;i=BigInt(0);let n=this.A+BigInt(1);for(let r=0;r<t.length;r++)i=(i*n^BigInt(t.charCodeAt(r)))&e;return i}function F(t,e,i,n,r,s,h){let l=t.length,o=[],u,c;u=f();for(let f=0,a,g,p,d;f<e;f++)for(let e=0;e<l;e++)if(f<(p=t[e]).length&&(a=p[f]))for(let t=0;t<a.length;t++){if((c=u[g=a[t]])?u[g]++:(c=0,u[g]=1),d=o[c]||(o[c]=[]),!h){let t=f+(e||!r?0:s||0);d=d[t]||(d[t]=[])}if(d.push(g),h&&i&&c===l-1&&d.length-n===i)return n?d.slice(n):d}if(t=o.length)if(r)o=1<o.length?J(o,i,n,h,s):(o=o[0]).length>i||n?o.slice(n,i+n):o;else{if(t<l)return[];if(o=o[t-1],i||n)if(h)(o.length>i||n)&&(o=o.slice(n,i+n));else{r=[];for(let t=0,e;t<o.length;t++)if((e=o[t]).length>n)n-=e.length;else if((e.length>i||n)&&(e=e.slice(n,i+n),i-=e.length,n&&(n-=e.length)),r.push(e),!i)break;o=1<r.length?[].concat.apply([],r):r[0]}}return o}function J(t,e,i,n,r){let s,h,l=[],o=f();var u=t.length;if(n){for(r=u-1;0<=r;r--)if(h=(n=t[r])&&n.length){for(u=0;u<h;u++)if(!o[s=n[u]]){if(o[s]=1,i)i--;else if(l.push(s),l.length===e)return l}}}else for(let f=u-1,c,a=0;0<=f;f--){c=t[f];for(let t=0;t<c.length;t++)if(h=(n=c[t])&&n.length){for(let c=0;c<h;c++)if(!o[s=n[c]])if(o[s]=1,i)i--;else{let i=(t+(f<u-1&&r||0))/(f+1)|0;if((l[i]||(l[i]=[])).push(s),++a===e)return l}}}return l}function K(t,e,i,n){if(!t.length)return t;if(1===t.length)return t=t[0],t=i||t.length>e?e?t.slice(i,i+e):t.slice(i):t,n?te.call(this,t):t;let r=[];for(let s=0,h,l;s<t.length;s++)if((h=t[s])&&(l=h.length)){if(i){if(i>=l){i-=l;continue}i<l&&(l=(h=e?h.slice(i,i+e):h.slice(i)).length,i=0)}if(l>e&&(h=h.slice(0,e),l=e),!r.length&&l>=e)return n?te.call(this,h):h;if(r.push(h),!(e-=l))break}return r=1<r.length?[].concat.apply([],r):r[0],n?te.call(this,r):r}function W(t,e,i){var n=i[0];if(n.then)return Promise.all(i).then(function(i){return t[e].apply(t,i)});if(n[0]&&n[0].index)return t[e].apply(t,n);n=[];let r=[],s=0,h=0,l,o,f;for(let u=0,c;u<i.length;u++)if(c=i[u]){let i;if(c.constructor===Q)i=c.result;else if(c.constructor===Array)i=c;else if(s=c.limit||0,h=c.offset||0,f=c.suggest,o=c.resolve,l=c.enrich&&o,c.index)c.resolve=!1,i=c.index.search(c).result,c.resolve=o;else if(c.and)i=t.and(c.and);else if(c.or)i=t.or(c.or);else if(c.xor)i=t.xor(c.xor);else{if(!c.not)continue;i=t.not(c.not)}if(i.then)r.push(i);else if(i.length)n[u]=i;else if(!f&&("and"===e||"xor"===e)){n=[];break}}return{O:n,P:r,limit:s,offset:h,enrich:l,resolve:o,suggest:f}}function q(t,e,i,n,r,s){if(e.length){let h=this;return Promise.all(e).then(function(e){t=[];for(let i=0,n;i<e.length;i++)(n=e[i]).length&&(t[i]=n);return q.call(h,t,[],i,n,r,s)})}return t.length&&(this.result.length&&t.push(this.result),2>t.length?this.result=t[0]:(this.result=J(t,i,n,!1,this.h),n=0)),s?this.resolve(i,n,r):this}function G(t,e,i,n,r,s,h){if(e.length){let l=this;return Promise.all(e).then(function(e){t=[];for(let i=0,n;i<e.length;i++)(n=e[i]).length&&(t[i]=n);return G.call(l,t,[],i,n,r,s,h)})}if(t.length)if(this.result.length&&t.unshift(this.result),2>t.length)this.result=t[0];else{if(e=function(t){let e=0;for(let i=0,n;i<t.length;i++)(n=t[i])&&e<n.length&&(e=n.length);return e}(t))return this.result=F(t,e,i,n,h,this.h,s),s?r?te.call(this.index,this.result):this.result:this;this.result=[]}else h||(this.result=t);return s?this.resolve(i,n,r):this}function H(t,e,i,n,r,s,h){if(e.length){let l=this;return Promise.all(e).then(function(e){t=[];for(let i=0,n;i<e.length;i++)(n=e[i]).length&&(t[i]=n);return H.call(l,t,[],i,n,r,s,h)})}if(t.length)if(this.result.length&&t.unshift(this.result),!(2>t.length))return this.result=U.call(this,t,i,n,s,this.h),s?r?te.call(this.index,this.result):this.result:this;else this.result=t[0];else h||(this.result=t);return s?this.resolve(i,n,r):this}function U(t,e,i,n,r){let s=[],h=f(),l=0;for(let e=0,i;e<t.length;e++)if(i=t[e]){l<i.length&&(l=i.length);for(let t=0,e;t<i.length;t++)if(e=i[t])for(let t=0,i;t<e.length;t++)h[i=e[t]]=h[i]?2:1}for(let o=0,f,u=0;o<l;o++)for(let l=0,c;l<t.length;l++)if((c=t[l])&&(f=c[o])){for(let t=0,c;t<f.length;t++)if(1===h[c=f[t]])if(i)i--;else if(n){if(s.push(c),s.length===e)return s}else{let t=o+(l?r:0);if(s[t]||(s[t]=[]),s[t].push(c),++u===e)return s}}return s}function V(t,e,i,n,r,s,h){if(e.length){let l=this;return Promise.all(e).then(function(e){t=[];for(let i=0,n;i<e.length;i++)(n=e[i]).length&&(t[i]=n);return V.call(l,t,[],i,n,r,s,h)})}if(t.length&&this.result.length)this.result=Z.call(this,t,i,n,s);else if(s)return this.resolve(i,n,r);return s?r?te.call(this.index,this.result):this.result:this}function Z(t,e,i,n){let r=[];t=new Set(t.flat().flat());for(let s=0,h,l=0;s<this.result.length;s++)if(h=this.result[s]){for(let o=0,f;o<h.length;o++)if(f=h[o],!t.has(f)){if(i)i--;else if(n){if(r.push(f),r.length===e)return r}else if(r[s]||(r[s]=[]),r[s].push(f),++l===e)return r}}return r}function Q(t){return this&&this.constructor===Q?t&&t.index?(t.resolve=!1,this.index=t.index,this.h=t.boost||0,this.result=t.index.search(t).result,this):void(this.index=null,this.result=t||[],this.h=0):new Q(t)}function X(t,e,i,n,r,s){let h,l,o;for(let f=0,u,c,g,p;f<t.length;f++){if(!(u=t[f].field))continue;let d=t[f].result;c=(g=i.get(u)).encoder,o=g.tokenize,p=r[n.indexOf(u)],c!==h&&(l=(h=c).encode(e));for(let t=0;t<d.length;t++){let e="",i=a(d[t].doc,p).split(/\s+/);for(let t=0,n,r;t<i.length;t++){let h;if(n=i[t],(r=1<(r=c.encode(n)).length?r.join(" "):r[0])&&n)for(let t=0,i;t<l.length;t++)if(i=l[t],"strict"===o){if(r===i){e+=(e?" ":"")+s.replace("$1",n),h=!0;break}}else{let t=r.indexOf(i);if(-1<t){e+=(e?" ":"")+n.substring(0,t)+s.replace("$1",n.substring(t,i.length))+n.substring(t+i.length),h=!0;break}}h||(e+=(e?" ":"")+i[t])}d[t].highlight=e}}return t}function Y(t){let e=[],i=f();for(let n=0,r,s;n<t.length;n++){s=(r=t[n]).result;for(let t=0,n,h,l;t<s.length;t++)"object"!=typeof(h=s[t])&&(h={id:h}),(l=i[n=h.id])?l.push(r.field):(h.field=i[n]=[r.field],e.push(h))}return e}function tt(t,e,i,n,r){return(t=this.tag.get(t))?(e=(t=t&&t.get(e))&&t.length-n)&&0<e?((e>i||n)&&(t=t.slice(n,n+i)),r&&(t=te.call(this,t)),t):void 0:[]}function te(t){if(!this||!this.store)return t;let e=Array(t.length);for(let i=0,n;i<t.length;i++)n=t[i],e[i]={id:n,doc:this.store.get(n)};return e}function ti(t){let e,i;if(!this||this.constructor!==ti)return new ti(t);let n=t.document||t.doc||t;if(this.D=[],this.field=[],this.J=[],this.key=(e=n.key||n.id)&&tr(e,this.J)||"id",(i=t.keystore||0)&&(this.keystore=i),this.fastupdate=!!t.fastupdate,this.reg=!this.fastupdate||t.worker||t.db?i?new $(i):new Set:i?new N(i):new Map,this.C=(e=n.store||null)&&e&&!0!==e&&[],this.store=e&&(i?new N(i):new Map),this.cache=(e=t.cache||null)&&new th(e),t.cache=!1,this.worker=t.worker,this.priority=t.priority||4,this.index=tn.call(this,t,n),this.tag=null,(e=n.tag)&&("string"==typeof e&&(e=[e]),e.length)){this.tag=new Map,this.F=[],this.R=[];for(let t=0,i,n;t<e.length;t++){if(!(n=(i=e[t]).field||i))throw Error("The tag field from the document descriptor is undefined.");i.custom?this.F[t]=i.custom:(this.F[t]=tr(n,this.J),i.filter&&("string"==typeof this.F[t]&&(this.F[t]=new String(this.F[t])),this.F[t].I=i.filter)),this.R[t]=n,this.tag.set(n,new Map)}}if(this.worker){for(let e of(this.fastupdate=!1,t=[],this.index.values()))e.then&&t.push(e);if(t.length){let e=this;return Promise.all(t).then(function(t){let i=0;for(let n of e.index.entries()){let r=n[0];n[1].then&&e.index.set(r,t[i++])}return e})}}else t.db&&(this.fastupdate=!1,this.mount(t.db))}function tn(t,e){let i=new Map,n=e.index||e.field||e;u(n)&&(n=[n]);for(let e=0,r,s;e<n.length;e++){if(u(r=n[e])||(s=r,r=r.field),s=c(s)?Object.assign({},t,s):t,this.worker){let t=new j(s);i.set(r,t)}this.worker||i.set(r,new tM(s,this.reg)),s.custom?this.D[e]=s.custom:(this.D[e]=tr(r,this.J),s.filter&&("string"==typeof this.D[e]&&(this.D[e]=new String(this.D[e])),this.D[e].I=s.filter)),this.field[e]=r}if(this.C){u(t=e.store)&&(t=[t]);for(let e=0,i,n;e<t.length;e++)n=(i=t[e]).field||i,i.custom?(this.C[e]=i.custom,i.custom.V=n):(this.C[e]=tr(n,this.J),i.filter&&("string"==typeof this.C[e]&&(this.C[e]=new String(this.C[e])),this.C[e].I=i.filter))}return i}function tr(t,e){let i=t.split(":"),n=0;for(let r=0;r<i.length;r++)"]"===(t=i[r])[t.length-1]&&(t=t.substring(0,t.length-2))&&(e[n]=!0),t&&(i[n++]=t);return n<i.length&&(i.length=n),1<n?i:i[0]}function ts(t,e,i){t=("object"==typeof t?""+t.query:t).toLowerCase(),this.cache||(this.cache=new th);let n=this.cache.get(t);if(!n){if((n=this.search(t,e,i)).then){let e=this;n.then(function(i){return e.cache.set(t,i),i})}this.cache.set(t,n)}return n}function th(t){this.limit=t&&!0!==t?t:1e3,this.cache=new Map,this.h=""}A("add"),A("append"),A("search"),A("update"),A("remove"),A("clear"),A("export"),A("import"),v(j.prototype),T.prototype.clear=function(){this.index.length=0},T.prototype.destroy=function(){this.proxy=this.index=null},T.prototype.push=function(){},N.prototype.get=function(t){let e=this.index[this.B(t)];return e&&e.get(t)},N.prototype.set=function(t,e){var i=this.B(t);let n=this.index[i];n?(i=n.size,n.set(t,e),(i-=n.size)&&this.size++):(this.index[i]=n=new Map([[t,e]]),this.h.push(n),this.size++)},$.prototype.add=function(t){var e=this.B(t);let i=this.index[e];i?(e=i.size,i.add(t),(e-=i.size)&&this.size++):(this.index[e]=i=new Set([t]),this.h.push(i),this.size++)},(tg=N.prototype).has=$.prototype.has=function(t){let e=this.index[this.B(t)];return e&&e.has(t)},tg.delete=$.prototype.delete=function(t){let e=this.index[this.B(t)];e&&e.delete(t)&&this.size--},tg.clear=$.prototype.clear=function(){this.index=f(),this.h=[],this.size=0},tg.values=$.prototype.values=function*(){for(let t=0;t<this.h.length;t++)for(let e of this.h[t].values())yield e},tg.keys=$.prototype.keys=function*(){for(let t=0;t<this.h.length;t++)for(let e of this.h[t].keys())yield e},tg.entries=$.prototype.entries=function*(){for(let t=0;t<this.h.length;t++)for(let e of this.h[t].entries())yield e},ti.prototype.add=function(t,e,i){if(c(t)&&(t=a(e=t,this.key)),e&&(t||0===t)){if(!i&&this.reg.has(t))return this.update(t,e);for(let s=0,h;s<this.field.length;s++){h=this.D[s];var n=this.index.get(this.field[s]);if("function"==typeof h){var r=h(e);r&&n.add(t,r,!1,!0)}else(!(r=h.I)||r(e))&&(h.constructor===String?h=[""+h]:u(h)&&(h=[h]),function t(e,i,n,r,s,h,l,o){if(e=e[l])if(r===i.length-1){if(e.constructor===Array){if(n[r]){for(i=0;i<e.length;i++)s.add(h,e[i],!0,!0);return}e=e.join(" ")}s.add(h,e,o,!0)}else if(e.constructor===Array)for(l=0;l<e.length;l++)t(e,i,n,r,s,h,l,o);else l=i[++r],t(e,i,n,r,s,h,l,o);else s.db&&s.remove(h)}(e,h,this.J,0,n,t,h[0],i))}if(this.tag)for(n=0;n<this.F.length;n++){var s=this.F[n];r=this.tag.get(this.R[n]);let l=f();if("function"==typeof s){if(!(s=s(e)))continue}else{var h=s.I;if(h&&!h(e))continue;s.constructor===String&&(s=""+s),s=a(e,s)}if(r&&s){u(s)&&(s=[s]);for(let e=0,n,o;e<s.length;e++)if(!l[n=s[e]]&&(l[n]=1,(h=r.get(n))?o=h:r.set(n,o=[]),!i||!o.includes(t))){if(o.length===0x80000000-1){if(h=new T(o),this.fastupdate)for(let t of this.reg.values())t.includes(o)&&(t[t.indexOf(o)]=h);r.set(n,o=h)}o.push(t),this.fastupdate&&((h=this.reg.get(t))?h.push(o):this.reg.set(t,[o]))}}}if(this.store&&(!i||!this.store.has(t))){let n;if(this.C){n=f();for(let t=0,r;t<this.C.length;t++){let s;if(!(i=(r=this.C[t]).I)||i(e)){if("function"==typeof r){if(!(s=r(e)))continue;r=[r.V]}else if(u(r)||r.constructor===String){n[r]=e[r];continue}(function t(e,i,n,r,s,h){if(e=e[s],r===n.length-1)i[s]=h||e;else if(e)if(e.constructor===Array)for(i=i[s]=Array(e.length),s=0;s<e.length;s++)t(e,i,n,r,s);else i=i[s]||(i[s]=f()),s=n[++r],t(e,i,n,r,s)})(e,n,r,0,r[0],s)}}}this.store.set(t,n||e)}this.worker&&(this.fastupdate||this.reg.add(t))}return this},Q.prototype.or=function(){let{O:t,P:e,limit:i,offset:n,enrich:r,resolve:s}=W(this,"or",arguments);return q.call(this,t,e,i,n,r,s)},Q.prototype.and=function(){let t=this.result.length,e,i,n,r;if(!t){let s=arguments[0];s&&(t=!!s.suggest,r=s.resolve,e=s.limit,i=s.offset,n=s.enrich&&r)}if(t){let{O:t,P:e,limit:i,offset:n,enrich:r,resolve:s,suggest:h}=W(this,"and",arguments);return G.call(this,t,e,i,n,r,s,h)}return r?this.resolve(e,i,n):this},Q.prototype.xor=function(){let{O:t,P:e,limit:i,offset:n,enrich:r,resolve:s,suggest:h}=W(this,"xor",arguments);return H.call(this,t,e,i,n,r,s,h)},Q.prototype.not=function(){let{O:t,P:e,limit:i,offset:n,enrich:r,resolve:s,suggest:h}=W(this,"not",arguments);return V.call(this,t,e,i,n,r,s,h)},Q.prototype.limit=function(t){if(this.result.length){let e=[];for(let i=0,n;i<this.result.length;i++)if(n=this.result[i])if(n.length<=t){if(e[i]=n,!(t-=n.length))break}else{e[i]=n.slice(0,t);break}this.result=e}return this},Q.prototype.offset=function(t){if(this.result.length){let e=[];for(let i=0,n;i<this.result.length;i++)(n=this.result[i])&&(n.length<=t?t-=n.length:(e[i]=n.slice(t),t=0));this.result=e}return this},Q.prototype.boost=function(t){return this.h+=t,this},Q.prototype.resolve=function(t,e,i){let n=this.result,r=this.index;return this.result=this.index=null,n.length?("object"==typeof t&&(i=t.enrich,e=t.offset,t=t.limit),K.call(r,n,t||100,e,i)):n},f(),ti.prototype.search=function(t,e,i,n){let r,s,h,l,o;i||(!e&&c(t)?(i=t,t=""):c(e)&&(i=e,e=0));let a=[];var g,p=[];let d=0;var m=!0;if(i){i.constructor===Array&&(i={index:i}),t=i.query||t;var y=i.pluck;r=i.merge,s=y||i.field||(s=i.index)&&(s.index?null:s),h=this.tag&&i.tag;var w=i.suggest;(m=!1!==i.resolve)||y||!(s=s||this.field)||(u(s)?y=s:(s.constructor===Array&&1===s.length&&(s=s[0]),y=s.field||s.index)),l=(g=this.store&&i.enrich&&m)&&i.highlight,e=i.limit||e;var x=i.offset||0;if(e||(e=100),h&&(!this.db||!n)){h.constructor!==Array&&(h=[h]);var b=[];for(let t=0,e;t<h.length;t++)if((e=h[t]).field&&e.tag){var v=e.tag;if(v.constructor===Array)for(var k=0;k<v.length;k++)b.push(e.field,v[k]);else b.push(e.field,v)}else{v=Object.keys(e);for(let t=0,i,n;t<v.length;t++)if((n=e[i=v[t]]).constructor===Array)for(k=0;k<n.length;k++)b.push(i,n[k]);else b.push(i,n)}if(h=b,!t){if(m=[],b.length)for(p=0;p<b.length;p+=2){if(this.db){if(!(y=this.index.get(b[p])))continue;m.push(y=y.db.tag(b[p+1],e,x,g))}else y=tt.call(this,b[p],b[p+1],e,x,g);a.push({field:b[p],tag:b[p+1],result:y})}return m.length?Promise.all(m).then(function(t){for(let e=0;e<t.length;e++)a[e].result=t[e];return a}):a}}s&&s.constructor!==Array&&(s=[s])}s||(s=this.field),b=!n&&(this.worker||this.db)&&[];for(let r=0,l,c,y;r<s.length;r++){let M;if(c=s[r],!this.db||!this.tag||this.D[r]){if(u(c)||(c=(M=c).field,t=M.query||t,e=M.limit||e,x=M.offset||x,w=M.suggest||w,g=this.store&&(M.enrich||g)),n)l=n[r];else if(v=M||i,k=this.index.get(c),h&&(this.db&&(v.tag=h,o=k.db.support_tag_search,v.field=s),o||(v.enrich=!1)),b){b[r]=k.search(t,e,v),v&&g&&(v.enrich=g);continue}else l=k.search(t,e,v),v&&g&&(v.enrich=g);if(y=l&&(m?l.length:l.result.length),h&&y){if(v=[],k=0,this.db&&n){if(!o)for(let t=s.length;t<n.length;t++){let e=n[t];if(e&&e.length)k++,v.push(e);else if(!w)return m?a:new Q(a)}}else for(let t=0,e;t<h.length;t+=2){if(!(e=this.tag.get(h[t])))if(w)continue;else return m?a:new Q(a);if((e=e&&e.get(h[t+1]))&&e.length)k++,v.push(e);else if(!w)return m?a:new Q(a)}if(k){if(!(y=(l=function(t,e,i){let n=f(),r=[];for(let t=0,i;t<e.length;t++){i=e[t];for(let t=0;t<i.length;t++)n[i[t]]=1}if(i)for(let e=0,i;e<t.length;e++)n[i=t[e]]&&(r.push(i),n[i]=0);else for(let i=0,s,h;i<t.result.length;i++)for(s=t.result[i],e=0;e<s.length;e++)n[h=s[e]]&&((r[i]||(r[i]=[])).push(h),n[h]=0);return r}(l,v,m)).length)&&!w)return m?l:new Q(l);k--}}if(y)p[d]=c,a.push(l),d++;else if(1===s.length)return m?a:new Q(a)}}if(b){if(this.db&&h&&h.length&&!o)for(g=0;g<h.length;g+=2){if(!(p=this.index.get(h[g])))if(w)continue;else return m?a:new Q(a);b.push(p.db.tag(h[g+1],e,x,!1))}let n=this;return Promise.all(b).then(function(r){return r.length?n.search(t,e,i,r):r})}if(!d)return m?a:new Q(a);if(y&&(!g||!this.store))return a[0];for(x=0,b=[];x<p.length;x++){if(w=a[x],g&&w.length&&void 0===w[0].doc&&(this.db?b.push(w=this.index.get(this.field[0]).db.enrich(w)):w=te.call(this,w)),y)return m?w:new Q(w);a[x]={field:p[x],result:w}}if(g&&this.db&&b.length){let e=this;return Promise.all(b).then(function(i){for(let t=0;t<i.length;t++)a[t].result=i[t];return r?Y(a):l?X(a,t,e.index,e.field,e.D,l):a})}return r?Y(a):l?X(a,t,this.index,this.field,this.D,l):a},(tg=ti.prototype).mount=function(t){let e=this.field;if(this.tag)for(let t=0,n;t<this.R.length;t++){n=this.R[t];var i=void 0;this.index.set(n,i=new tM({},this.reg)),e===this.field&&(e=e.slice(0)),e.push(n),i.tag=this.tag.get(n)}i=[];let n={db:t.db,type:t.type,fastupdate:t.fastupdate};for(let r=0,s,h;r<e.length;r++){n.field=h=e[r],s=this.index.get(h);let l=new t.constructor(t.id,n);l.id=t.id,i[r]=l.mount(s),s.document=!0,r?s.bypass=!0:s.store=this.store}return this.db=!0,Promise.all(i)},tg.commit=async function(t,e){let i=[];for(let n of this.index.values())i.push(n.commit(t,e));await Promise.all(i),this.reg.clear()},tg.destroy=function(){let t=[];for(let e of this.index.values())t.push(e.destroy());return Promise.all(t)},tg.append=function(t,e){return this.add(t,e,!0)},tg.update=function(t,e){return this.remove(t).add(t,e)},tg.remove=function(t){for(var e of(c(t)&&(t=a(t,this.key)),this.index.values()))e.remove(t,!0);if(this.reg.has(t)){if(this.tag&&!this.fastupdate)for(let i of this.tag.values())for(let n of i){e=n[0];let r=n[1],s=r.indexOf(t);-1<s&&(1<r.length?r.splice(s,1):i.delete(e))}this.store&&this.store.delete(t),this.reg.delete(t)}return this.cache&&this.cache.remove(t),this},tg.clear=function(){let t=[];for(let e of this.index.values()){let i=e.clear();i.then&&t.push(i)}if(this.tag)for(let t of this.tag.values())t.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),t.length?Promise.all(t):this},tg.contain=function(t){return this.db?this.index.get(this.field[0]).db.has(t):this.reg.has(t)},tg.cleanup=function(){for(let t of this.index.values())t.cleanup();return this},tg.get=function(t){return this.db?this.index.get(this.field[0]).db.enrich(t).then(function(t){return t[0]&&t[0].doc||null}):this.store.get(t)||null},tg.set=function(t,e){return"object"==typeof t&&(t=a(e=t,this.key)),this.store.set(t,e),this},tg.searchCache=ts,tg.export=function(t,e,i=0,n=0){let r,s;if(i<this.field.length){let r=this.field[i];if((e=this.index.get(r).export(t,r,i,n=1))&&e.then){let n=this;return e.then(function(){return n.export(t,r,i+1)})}return this.export(t,r,i+1)}switch(n){case 0:r="reg",s=O(this.reg),e=null;break;case 1:r="tag",s=this.tag&&B(this.tag,this.reg.size),e=null;break;case 2:r="doc",s=this.store&&S(this.store),e=null;break;default:return}return D.call(this,t,e,r,s,i,n)},tg.import=function(t,e){var i=t.split(".");"json"===i[i.length-1]&&i.pop();let n=2<i.length?i[0]:"";if(i=2<i.length?i[2]:i[1],this.worker&&n)return this.index.get(n).import(t);if(e){if("string"==typeof e&&(e=JSON.parse(e)),n)return this.index.get(n).import(i,e);switch(i){case"reg":this.fastupdate=!1,this.reg=P(e,this.reg);for(let t=0,e;t<this.field.length;t++)(e=this.index.get(this.field[t])).fastupdate=!1,e.reg=this.reg;if(this.worker){for(let i of(e=[],this.index.values()))e.push(i.import(t));return Promise.all(e)}break;case"tag":this.tag=C(e,this.tag);break;case"doc":this.store=_(e,this.store)}}},v(ti.prototype),th.prototype.set=function(t,e){this.cache.set(this.h=t,e),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)},th.prototype.get=function(t){let e=this.cache.get(t);return e&&this.h!==t&&(this.cache.delete(t),this.cache.set(this.h=t,e)),e},th.prototype.remove=function(t){for(let e of this.cache){let i=e[0];e[1].includes(t)&&this.cache.delete(i)}},th.prototype.clear=function(){this.cache.clear(),this.h=""};let tl={normalize:!1,numeric:!1,dedupe:!1},to={},tf=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),tu=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),tc=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],ta={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,ÃŸ:2,d:3,t:3,l:4,m:5,n:5,r:6};var tg,tp={Exact:tl,Default:to,Normalize:to,LatinBalance:{mapper:tf},LatinAdvanced:{mapper:tf,matcher:tu,replacer:tc},LatinExtra:{mapper:tf,replacer:tc.concat([/(?!^)[aeo]/g,""]),matcher:tu},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(t){for(let i=0;i<t.length;i++){var e=t[i];let n=e.charAt(0),r=ta[n];for(let t=1,i;t<e.length&&("h"===(i=e.charAt(t))||"w"===i||!(i=ta[i])||i===r||(n+=i,r=i,4!==n.length));t++);t[i]=n}}},LatinExact:tl,LatinDefault:to,LatinSimple:to};function td(t,e){let i=0;var n=void 0===e;if(t.constructor===Array){for(let r=0,s,h;r<t.length;r++)if((s=t[r])&&s.length)if(n)i++;else if(0<=(h=s.indexOf(e))){1<s.length?(s.splice(h,1),i++):delete t[r];break}else i++}else for(let r of t.entries()){n=r[0];let s=td(r[1],e);s?i+=s:t.delete(n)}return i}tM.prototype.remove=function(t,e){let i=this.reg.size&&(this.fastupdate?this.reg.get(t):this.reg.has(t));if(i){if(this.fastupdate){for(let e=0,n;e<i.length;e++)if(n=i[e])if(2>n.length)n.pop();else{let e=n.indexOf(t);e===i.length-1?n.pop():n.splice(e,1)}}else td(this.map,t),this.depth&&td(this.ctx,t);e||this.reg.delete(t)}return this.db&&(this.commit_task.push({del:t}),this.T&&tz(this)),this.cache&&this.cache.remove(t),this};let tm={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}};function ty(t,e,i,n,r,s,h){let l=h?t.ctx:t.map,o;if((!e[i]||h&&!(o=e[i])[h])&&(h?((e=o||(e[i]=f()))[h]=1,(o=l.get(h))?l=o:l.set(h,l=new Map)):e[i]=1,(o=l.get(i))?l=o:l.set(i,l=o=[]),l=l[n]||(l[n]=[]),!s||!l.includes(r))){if(l.length===0x80000000-1){if(e=new T(l),t.fastupdate)for(let i of t.reg.values())i.includes(l)&&(i[i.indexOf(l)]=e);o[n]=l=e}l.push(r),t.fastupdate&&((n=t.reg.get(r))?n.push(l):t.reg.set(r,[l]))}}function tw(t,e,i,n,r){return i&&1<t?e+(n||0)<=t?i+(r||0):(t-1)/(e+(n||0))*(i+(r||0))+1|0:0}function tx(t,e,i,n,r,s,h){let l=t.length,o=t;if(1<l)o=F(t,e,i,n,r,s,h);else if(1===l)return h?K.call(null,t[0],i,n):new Q(t[0]);return h?o:new Q(o)}function tb(t,e,i,n,r,s,h){return t=tk(this,t,e,i,n,r,s,h),this.db?t.then(function(t){return r?t||[]:new Q(t)}):t&&t.length?r?K.call(this,t,i,n):new Q(t):r?[]:new Q}function tv(t,e,i,n){let r=[];if(t&&t.length){if(t.length<=n){e.push(t);return}for(let e=0,i;e<n;e++)(i=t[e])&&(r[e]=i);if(r.length){e.push(r);return}}if(!i)return r}function tk(t,e,i,n,r,s,h,l){let o;return(i&&(o=t.bidirectional&&e>i)&&(o=i,i=e,e=o),t.db)?t.db.get(e,i,n,r,s,h,l):t=i?(t=t.ctx.get(i))&&t.get(e):t.map.get(e)}function tM(t,e){if(!this||this.constructor!==tM)return new tM(t);if(t){var i=u(t)?t:t.preset;i&&(t=Object.assign({},tm[i],t))}else t={};let n=!0===(i=t.context)?{depth:1}:i||{},r=u(t.encoder)?tp[t.encoder]:t.encode||t.encoder||{};this.encoder=r.encode?r:"object"==typeof r?new w(r):{encode:r},this.resolution=t.resolution||9,this.tokenize=i=(i=t.tokenize)&&"default"!==i&&"exact"!==i&&i||"strict",this.depth="strict"===i&&n.depth||0,this.bidirectional=!1!==n.bidirectional,this.fastupdate=!!t.fastupdate,this.score=t.score||null,(i=t.keystore||0)&&(this.keystore=i),this.map=i?new N(i):new Map,this.ctx=i?new N(i):new Map,this.reg=e||(this.fastupdate?i?new N(i):new Map:i?new $(i):new Set),this.U=n.resolution||3,this.rtl=r.rtl||t.rtl||!1,this.cache=(i=t.cache||null)&&new th(i),this.resolve=!1!==t.resolve,(i=t.db)&&(this.db=this.mount(i)),this.T=!1!==t.commit,this.commit_task=[],this.commit_timer=null,this.priority=t.priority||4}function tz(t){t.commit_timer||(t.commit_timer=setTimeout(function(){t.commit_timer=null,t.db.commit(t,void 0,void 0)},1))}tM.prototype.add=function(t,e,i,n){if(e&&(t||0===t)){if(!n&&!i&&this.reg.has(t))return this.update(t,e);if(n=(e=this.encoder.encode(e)).length){let u=f(),c=f(),a=this.depth,g=this.resolution;for(let p=0;p<n;p++){let d=e[this.rtl?n-1-p:p];var r=d.length;if(r&&(a||!c[d])){var s=this.score?this.score(e,d,p,null,0):tw(g,n,p),h="";switch(this.tokenize){case"full":if(2<r){for(let o=0,f;o<r;o++)for(s=r;s>o;s--){h=d.substring(o,s),f=this.rtl?r-1-o:o;var l=this.score?this.score(e,d,p,h,f):tw(g,n,p,r,f);ty(this,c,h,l,t,i)}break}case"bidirectional":case"reverse":if(1<r){for(l=r-1;0<l;l--){h=d[this.rtl?r-1-l:l]+h;var o=this.score?this.score(e,d,p,h,l):tw(g,n,p,r,l);ty(this,c,h,o,t,i)}h=""}case"forward":if(1<r){for(l=0;l<r;l++)ty(this,c,h+=d[this.rtl?r-1-l:l],s,t,i);break}default:if(ty(this,c,d,s,t,i),a&&1<n&&p<n-1){for(r=f(),h=this.U,s=d,l=Math.min(a+1,this.rtl?p+1:n-p),r[s]=1,o=1;o<l;o++)if((d=e[this.rtl?n-1-p-o:p+o])&&!r[d]){r[d]=1;let f=this.score?this.score(e,s,p,d,o-1):tw(h+(n/2>h?0:1),n,p,l-1,o-1),c=this.bidirectional&&d>s;ty(this,u,c?s:d,f,t,i,c?d:s)}}}}}this.fastupdate||this.reg.add(t)}else e=""}return this.db&&(e||this.commit_task.push({del:t}),this.T&&tz(this)),this},tM.prototype.search=function(t,e,i){i||(e||"object"!=typeof t?"object"==typeof e&&(i=e,e=0):(i=t,t=""));let n=[],r,s,h,l=0,o,u,c,a,g;i?(t=i.query||t,e=i.limit||e,l=i.offset||0,s=i.context,h=i.suggest,g=(o=!1!==i.resolve)&&i.enrich,c=i.boost,a=i.resolution,u=this.db&&i.tag):o=this.resolve;let p=this.encoder.encode(t);if(r=p.length,e=e||100*!!o,1===r)return tb.call(this,p[0],"",e,l,o,g,u);if(s=this.depth&&!1!==s,2===r&&s&&!h)return tb.call(this,p[1],p[0],e,l,o,g,u);let d=f(),m=0,y;if(s&&(y=p[0],m=1),a||0===a||(a=y?this.U:this.resolution),this.db){if(this.db.search&&!1!==(t=this.db.search(this,p,e,l,h,o,g,u)))return t;let i=this;return async function(){for(let t,e;m<r;m++){if((e=p[m])&&!d[e]){if(d[e]=1,t=tv(t=await tk(i,e,y,0,0,!1,!1),n,h,a)){n=t;break}y&&(h&&t&&n.length||(y=e))}h&&y&&m===r-1&&!n.length&&(a=i.resolution,y="",m=-1,d=f())}return tx(n,a,e,l,h,c,o)}()}for(let t,e;m<r;m++){if((e=p[m])&&!d[e]){if(d[e]=1,t=tv(t=tk(this,e,y,0,0,!1,!1),n,h,a)){n=t;break}y&&(h&&t&&n.length||(y=e))}h&&y&&m===r-1&&!n.length&&(a=this.resolution,y="",m=-1,d=f())}return tx(n,a,e,l,h,c,o)},(tg=tM.prototype).mount=function(t){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),t.mount(this)},tg.commit=function(t,e){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this,t,e)},tg.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()},tg.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db&&(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[{clear:!0}]),this},tg.append=function(t,e){return this.add(t,e,!0)},tg.contain=function(t){return this.db?this.db.has(t):this.reg.has(t)},tg.update=function(t,e){let i=this,n=this.remove(t);return n&&n.then?n.then(()=>i.add(t,e)):this.add(t,e)},tg.cleanup=function(){return this.fastupdate&&(td(this.map),this.depth&&td(this.ctx)),this},tg.searchCache=ts,tg.export=function(t,e,i=0,n=0){let r,s;switch(n){case 0:r="reg",s=O(this.reg);break;case 1:r="cfg",s=null;break;case 2:r="map",s=S(this.map,this.reg.size);break;case 3:r="ctx",s=B(this.ctx,this.reg.size);break;default:return}return D.call(this,t,e,r,s,i,n)},tg.import=function(t,e){if(e)switch("string"==typeof e&&(e=JSON.parse(e)),"json"===(t=t.split("."))[t.length-1]&&t.pop(),3===t.length&&t.shift(),t=1<t.length?t[1]:t[0]){case"reg":this.fastupdate=!1,this.reg=P(e,this.reg);break;case"map":this.map=_(e,this.map);break;case"ctx":this.ctx=C(e,this.ctx)}},tg.serialize=function(t=!0){let e="",i="",n="";if(this.reg.size){let t;for(var r of this.reg.keys())t||(t=typeof r),e+=(e?",":"")+("string"===t?'"'+r+'"':r);for(let s of(e="index.reg=new Set(["+e+"]);",i="index.map=new Map(["+(i=L(this.map,t))+"]);",this.ctx.entries())){r=s[0];let e=L(s[1],t);e='["'+r+'",'+(e="new Map(["+e+"])")+"]",n+=(n?",":"")+e}n="index.ctx=new Map(["+n+"]);"}return t?"function inject(index){"+e+i+n+"}":e+i+n},v(tM.prototype);let tj="undefined"!=typeof window&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),tA=["map","ctx","tag","reg","cfg"],tS=f();function t_(t,e={}){if(!this)return new t_(t,e);"object"==typeof t&&(e=t,t=t.name),t||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(t?":"+t.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=e.field?e.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=e.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}function tB(t,e,i){let n=t.value,r,s=0;for(let t=0,h;t<n.length;t++){if(h=i?n:n[t]){for(let i=0,s,l;i<e.length;i++)if(l=e[i],0<=(s=h.indexOf(l)))if(r=1,1<h.length)h.splice(s,1);else{n[t]=[];break}s+=h.length}if(i)break}s?r&&t.update(n):t.delete(),t.continue()}function tC(t,e){return new Promise((i,n)=>{t.onsuccess=t.oncomplete=function(){e&&e(this.result),e=null,i(this.result)},t.onerror=t.onblocked=n,t=null})}(tg=t_.prototype).mount=function(t){return t.encoder?(t.db=this,this.open()):t.mount(this)},tg.open=function(){if(this.db)return this.db;let t=this;navigator.storage&&navigator.storage.persist(),tS[t.id]||(tS[t.id]=[]),tS[t.id].push(t.field);let e=tj.open(t.id,1);return e.onupgradeneeded=function(){let e=t.db=this.result;for(let i=0,n;i<tA.length;i++){n=tA[i];for(let i=0,r;i<tS[t.id].length;i++)r=tS[t.id][i],e.objectStoreNames.contains(n+("reg"!==n&&r?":"+r:""))||e.createObjectStore(n+("reg"!==n&&r?":"+r:""))}},t.db=tC(e,function(e){t.db=e,t.db.onversionchange=function(){t.close()}})},tg.close=function(){this.db&&this.db.close(),this.db=null},tg.destroy=function(){return tC(tj.deleteDatabase(this.id))},tg.clear=function(){let t=[];for(let e=0,i;e<tA.length;e++){i=tA[e];for(let e=0,n;e<tS[this.id].length;e++)n=tS[this.id][e],t.push(i+("reg"!==i&&n?":"+n:""))}let e=this.db.transaction(t,"readwrite");for(let i=0;i<t.length;i++)e.objectStore(t[i]).clear();return tC(e)},tg.get=function(t,e,i=0,n=0,r=!0,s=!1){t=this.db.transaction((e?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((e?"ctx":"map")+(this.field?":"+this.field:"")).get(e?e+":"+t:t);let h=this;return tC(t).then(function(t){let e=[];if(!t||!t.length)return e;if(r){if(!i&&!n&&1===t.length)return t[0];for(let r=0,s;r<t.length;r++)if((s=t[r])&&s.length){if(n>=s.length){n-=s.length;continue}let t=i?n+Math.min(s.length-n,i):s.length;for(let i=n;i<t;i++)e.push(s[i]);if(n=0,e.length===i)break}return s?h.enrich(e):e}return t})},tg.tag=function(t,e=0,i=0,n=!1){t=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(t);let r=this;return tC(t).then(function(t){return t&&t.length&&!(i>=t.length)?e||i?(t=t.slice(i,i+e),n?r.enrich(t):t):t:[]})},tg.enrich=function(t){"object"!=typeof t&&(t=[t]);let e=this.db.transaction("reg","readonly").objectStore("reg"),i=[];for(let n=0;n<t.length;n++)i[n]=tC(e.get(t[n]));return Promise.all(i).then(function(e){for(let i=0;i<e.length;i++)e[i]={id:t[i],doc:e[i]?JSON.parse(e[i]):null};return e})},tg.has=function(t){return tC(t=this.db.transaction("reg","readonly").objectStore("reg").getKey(t)).then(function(t){return!!t})},tg.search=null,tg.info=function(){},tg.transaction=function(t,e,i){t+="reg"!==t&&this.field?":"+this.field:"";let n=this.h[t+":"+e];if(n)return i.call(this,n);let r=this.db.transaction(t,e);this.h[t+":"+e]=n=r.objectStore(t);let s=i.call(this,n);return this.h[t+":"+e]=null,tC(r).finally(function(){return r=n=null,s})},tg.commit=async function(t,e,i){if(e)await this.clear(),t.commit_task=[];else{let n=t.commit_task;t.commit_task=[];for(let t=0,i;t<n.length;t++)if((i=n[t]).clear){await this.clear(),e=!0;break}else n[t]=i.del;e||(i||(n=n.concat(function(t){let e=[];for(let i of t.keys())e.push(i);return e}(t.reg))),n.length&&await this.remove(n))}t.reg.size&&(await this.transaction("map","readwrite",function(i){for(let n of t.map){let t=n[0],r=n[1];r.length&&(e?i.put(r,t):i.get(t).onsuccess=function(){var e;let n=this.result;if(n&&n.length){let t=Math.max(n.length,r.length);for(let i=0,s,h;i<t;i++)if((h=r[i])&&h.length){if((s=n[i])&&s.length)for(e=0;e<h.length;e++)s.push(h[e]);else n[i]=h;e=1}}else n=r,e=1;e&&i.put(n,t)})}}),await this.transaction("ctx","readwrite",function(i){for(let n of t.ctx){let t=n[0];for(let r of n[1]){let n=r[0],s=r[1];s.length&&(e?i.put(s,t+":"+n):i.get(t+":"+n).onsuccess=function(){var e;let r=this.result;if(r&&r.length){let t=Math.max(r.length,s.length);for(let i=0,n,h;i<t;i++)if((h=s[i])&&h.length){if((n=r[i])&&n.length)for(e=0;e<h.length;e++)n.push(h[e]);else r[i]=h;e=1}}else r=s,e=1;e&&i.put(r,t+":"+n)})}}}),t.store?await this.transaction("reg","readwrite",function(e){for(let i of t.store){let t=i[0],n=i[1];e.put("object"==typeof n?JSON.stringify(n):1,t)}}):t.bypass||await this.transaction("reg","readwrite",function(e){for(let i of t.reg.keys())e.put(1,i)}),t.tag&&await this.transaction("tag","readwrite",function(e){for(let i of t.tag){let t=i[0],n=i[1];n.length&&(e.get(t).onsuccess=function(){let i=this.result;i=i&&i.length?i.concat(n):n,e.put(i,t)})}}),t.map.clear(),t.ctx.clear(),t.tag&&t.tag.clear(),t.store&&t.store.clear(),t.document||t.reg.clear())},tg.remove=function(t){return"object"!=typeof t&&(t=[t]),Promise.all([this.transaction("map","readwrite",function(e){e.openCursor().onsuccess=function(){let e=this.result;e&&tB(e,t)}}),this.transaction("ctx","readwrite",function(e){e.openCursor().onsuccess=function(){let e=this.result;e&&tB(e,t)}}),this.transaction("tag","readwrite",function(e){e.openCursor().onsuccess=function(){let e=this.result;e&&tB(e,t,!0)}}),this.transaction("reg","readwrite",function(e){for(let i=0;i<t.length;i++)e.delete(t[i])})])};let tO={Index:tM,Charset:tp,Encoder:w,Document:ti,Worker:j,Resolver:Q,IndexedDB:t_,Language:{}}},29297:(t,e,i)=>{t.exports=i(80555)(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})},44328:(t,e,i)=>{var n=i(6452),r=i(99759),s=i(97768),h=0/0,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,f=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(s(t))return h;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var i=o.test(t);return i||f.test(t)?u(t.slice(2),i?2:8):l.test(t)?h:+t}},60980:(t,e,i)=>{var n=i(71605);t.exports=function(){return n.Date.now()}},71855:(t,e,i)=>{var n=i(99759),r=i(60980),s=i(44328),h=Math.max,l=Math.min;t.exports=function(t,e,i){var o,f,u,c,a,g,p=0,d=!1,m=!1,y=!0;if("function"!=typeof t)throw TypeError("Expected a function");function w(e){var i=o,n=f;return o=f=void 0,p=e,c=t.apply(n,i)}function x(t){var i=t-g,n=t-p;return void 0===g||i>=e||i<0||m&&n>=u}function b(){var t,i,n,s=r();if(x(s))return v(s);a=setTimeout(b,(t=s-g,i=s-p,n=e-t,m?l(n,u-i):n))}function v(t){return(a=void 0,y&&o)?w(t):(o=f=void 0,c)}function k(){var t,i=r(),n=x(i);if(o=arguments,f=this,g=i,n){if(void 0===a)return p=t=g,a=setTimeout(b,e),d?w(t):c;if(m)return clearTimeout(a),a=setTimeout(b,e),w(g)}return void 0===a&&(a=setTimeout(b,e)),c}return e=s(e)||0,n(i)&&(d=!!i.leading,u=(m="maxWait"in i)?h(s(i.maxWait)||0,e):u,y="trailing"in i?!!i.trailing:y),k.cancel=function(){void 0!==a&&clearTimeout(a),p=0,o=g=f=a=void 0},k.flush=function(){return void 0===a?c:v(r())},k}},81706:t=>{var e=/\s/;t.exports=function(t){for(var i=t.length;i--&&e.test(t.charAt(i)););return i}},82008:(t,e,i)=>{var n=i(71855),r=i(99759);t.exports=function(t,e,i){var s=!0,h=!0;if("function"!=typeof t)throw TypeError("Expected a function");return r(i)&&(s="leading"in i?!!i.leading:s,h="trailing"in i?!!i.trailing:h),n(t,e,{leading:s,maxWait:e,trailing:h})}},99759:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}}}]);